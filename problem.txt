


Olika vägar frammåt:
====================



Problemställningen:
-------------------
json-form fixar en hel del validering, dels genom att läggapå attribut som
min och max på input och dels genom att validera via en schema validtor.

Jag tänkte undvika validatorn och köra "the angular way" genom att ha all validering
i formuläret via HTML5 valideringar och directives som ng-pattern, ng-maxlength osv
antagligen ett par egna.

Hittils har algoritmen sett ut såhär:
#1 schema => defaultForm,
#2 defaultForm+form => finalForm
#3 loopa finalForm och skapa html, dvs all info för validering i formuläret.

Kruxet är att formulär definitionen i json form *inte* innehåller tillräckligt med valideringar
(den innehåller några) utan jag måste lägga till form attribut för dem. (json form tar dem från
schemat)

tex så om schema innehåller "maxLength" attribut så sätts "maxlength" på input fältet, men om form
definitionen innehåller "maxLength" (eller "maxlength" för den delen) så händer inget.

I min algoritm ovan där form definitionen måste innehålla all info för generering av html och
de attribut som styr upp validering så måste jag helt enkelt hitta på eget.

Frågan är hur ska detta egna se ut?


#1 Egna form attribut
När det inte finns ngt form attribut i json forms defintion så skapar jag ett eget, t.ex. så skulle
maxLength bara kopieras till form objektet.
+ minsta motståndets lag
- kluddig lösning, motverkar lite att vara json form kompatibel
- kan allt stödjas?


#2 Eget schema directive
Istället skapa ett eget directive som antingen validerar själv eller lägger till de attribut som
behövs för att validera. Schemat fås genom require och ng-model värdet pekar ut vart i schemat.
Kan möjligtvis implementeras med tv4.
+ snygg lösning
- krångligt directive, måste ta hänsyn till om tex maximum, required osv redan satts via form
definitionen.




